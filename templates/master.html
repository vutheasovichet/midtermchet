<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MyShop â€” Products</title>

  <!-- Bootstrap & Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet" />

  <style>
    :root{
      --primary-accent:#4f46e5; --secondary-accent:#0ea5e9;
      --danger:#dc2626; --success:#059669;
      --bg-light:#f8fafc; --text-muted:#64748b; --card-radius:18px;
    }
    body{ background:var(--bg-light); font-family:'Segoe UI',system-ui,sans-serif; }
    .navbar{ background:linear-gradient(90deg,var(--primary-accent),var(--secondary-accent)); }

    /* Card */
    .p-card{ border:0; border-radius:var(--card-radius); background:#fff;
      box-shadow:0 8px 24px rgba(0,0,0,.06);
      transition:transform .2s ease, box-shadow .2s ease; }
    .p-card:hover{ transform:translateY(-5px); box-shadow:0 12px 30px rgba(0,0,0,.12); }

    /* Image */
    .thumb-wrap{ position:relative; overflow:hidden;
      border-top-left-radius:var(--card-radius); border-top-right-radius:var(--card-radius);
      background:#e2e8f0; }
    .product-thumb{ width:100%; aspect-ratio:16/11; object-fit:cover; display:block; }

    /* Badge */
    .brand-tag{ position:absolute; top:.7rem; left:.7rem; font-size:.75rem;
      padding:.25rem .65rem; border-radius:999px; background:var(--primary-accent);
      color:#fff; font-weight:500; letter-spacing:.3px; }

    /* Text */
    .p-title{ font-weight:600; font-size:1.05rem; margin:.4rem 0 .25rem; }
    .p-desc{
      color:var(--text-muted); font-size:.9rem;
      min-height:2.7rem; /* reserve space */
      display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden;
    }
    .price{ color:var(--danger); font-weight:700; }
    .add-btn{ border:1.5px solid var(--success); color:var(--success); font-weight:600; }
    .add-btn:hover{ background:var(--success); color:#fff; }
  </style>
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark">
    <div class="container">
      <a class="navbar-brand fw-bold" href="/home">MyShop</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#nav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div id="nav" class="collapse navbar-collapse">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link active" href="/">Home</a></li>
          <li class="nav-item"><a class="nav-link" href="/admin">Admin</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Products -->
  <div class="container py-5">
    <div class="row g-4">

      {% for item in data %}
      <div class="col-12 col-sm-6 col-md-4 col-lg-3 d-flex">
        <div class="card p-card w-100 h-100">
          <div class="thumb-wrap">
            <a href="/product/{{ item.id }}">
              <img class="product-thumb"
                   src="{{ item.image }}"
                   alt="{{ item.name }}"
                   loading="lazy"
                   onerror="this.onerror=null;this.src='https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=1200&q=80';">
            </a>
            <span class="brand-tag">{{ item.category }}</span>
          </div>

          <div class="card-body d-flex flex-column">
            <div class="p-title">{{ item.name }}</div>
            <div class="p-desc">{{ item.description }}</div>

            <!-- spacer to push price/button to bottom -->
            <div class="mt-auto"></div>

            <span class="price mt-2">$ {{ '%.2f'|format(item.price) }}</span>
            <button class="btn add-btn mt-3 w-100">
              <i class="bi bi-cart-plus me-1"></i>Add to Cart
            </button>
          </div>
        </div>
      </div>
      {% endfor %}

    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
